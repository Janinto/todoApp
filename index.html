<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í˜„ì¥ í¬ì°©: ê·¸ë¦¼ì ë§ì¶”ê¸°</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@700&family=Noto+Sans+KR:wght@400;700&display=swap');

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: #f0ead6 url('https://www.transparenttextures.com/patterns/notebook-dark.png');
            margin: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh;
        }

        .header {
            width: 100%; background: #2c3e50; color: white; text-align: center; padding: 20px 0;
            font-family: 'Nanum Myeongjo', serif; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .progress-container { width: 80%; background: #ddd; height: 12px; border-radius: 6px; margin: 15px auto; overflow: hidden; }
        .progress-bar { width: 0%; height: 100%; background: #4CAF50; transition: width 0.5s; }

        .container { width: 95%; max-width: 600px; background: rgba(255,255,255,0.9); margin: 20px; padding: 25px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); text-align: center; }

        .mission { font-family: 'Nanum Myeongjo', serif; font-size: 1.2rem; margin-bottom: 25px; color: #34495e; border-bottom: 2px solid #eee; padding-bottom: 15px; }

        /* ê·¸ë¦¼ì ë°•ìŠ¤: ë°ê¸°ë¥¼ 0ìœ¼ë¡œ í•´ì„œ ê²€ê²Œ ë§Œë“¦ */
        .shadow-box { 
            background: white; padding: 15px 15px 40px; box-shadow: 0 8px 15px rgba(0,0,0,0.1); 
            display: inline-block; transform: rotate(-2deg); margin-bottom: 30px; border: 1px solid #ddd;
        }
        .shadow-box img { width: 180px; height: 180px; filter: brightness(0); object-fit: contain; }

        .choices { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .choice-card { 
            background: white; padding: 15px; border: 1px solid #ddd; cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05); transition: 0.2s; border-radius: 10px;
        }
        .choice-card:hover { transform: translateY(-5px); box-shadow: 0 6px 12px rgba(0,0,0,0.1); border-color: #3498db; }
        .choice-card img { width: 80px; height: 80px; object-fit: contain; margin-bottom: 10px; }
        .choice-card p { margin: 0; font-weight: bold; color: #2c3e50; }

        .modal { 
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.7); z-index: 100; justify-content: center; align-items: center; 
        }
        .modal-content { 
            background: #fdfcf0; width: 85%; max-width: 450px; padding: 30px; border-radius: 20px; 
            text-align: center; border: 8px solid white; box-shadow: 0 20px 40px rgba(0,0,0,0.4);
        }
        .news-title { font-family: 'Nanum Myeongjo', serif; font-size: 1.4rem; color: #c0392b; margin-bottom: 15px; }
        .news-text { text-align: left; line-height: 1.6; color: #444; margin-bottom: 20px; }
        .btn { background: #2c3e50; color: white; border: none; padding: 12px 30px; border-radius: 25px; font-size: 1rem; cursor: pointer; }
    </style>
</head>
<body>

<div class="header">
    <h2 style="margin:0">í˜„ì¥ í¬ì°©: ê¸°ìì˜ ë‹¨ì„œ</h2>
    <div class="progress-container"><div class="progress-bar" id="pb"></div></div>
</div>

<div class="container">
    <div class="mission" id="mission">"ê¸°ìì˜ ìˆ˜ì²© ì† ì‹¤ë£¨ì—£ì„ ë³´ê³  ì •ì²´ë¥¼ ë°í˜€ì£¼ì„¸ìš”."</div>
    <div class="shadow-box"><img id="shadow" src="" alt="shadow"></div>
    <div class="choices" id="choices"></div>
</div>

<div class="modal" id="modal">
    <div class="modal-content">
        <div id="news-badge" style="color:#7f8c8d; font-size:0.9rem; margin-bottom:10px">ğŸ“° ì˜¤ëŠ˜ì˜ ìƒí™œ ìƒì‹ ë‰´ìŠ¤</div>
        <div class="news-title" id="news-title"></div>
        <div class="news-text" id="news-text"></div>
        <button class="btn" onclick="nextLevel()">ë‹¤ìŒ ì·¨ì¬ë¡œ ì´ë™</button>
    </div>
</div>

<script>
    // ëª¨ë“  ì•„ì´ì½˜ì„ ì•ˆì •ì ì¸ ê³µê°œ ì„œë²„ ì´ë¯¸ì§€ë¡œ êµì²´
    const imageMap = {
        "ë°”ì´ì˜¬ë¦°": "https://cdn-icons-png.flaticon.com/128/708/708856.png",
        "ë¬¼ë³‘": "https://cdn-icons-png.flaticon.com/128/3100/3100566.png",
        "í™•ì„±ê¸°": "https://cdn-icons-png.flaticon.com/128/867/867455.png",
        "ì†ì „ë“±": "https://cdn-icons-png.flaticon.com/128/2987/2987998.png",
        "ìˆ˜ì²©": "https://cdn-icons-png.flaticon.com/128/3209/3209265.png",
        "ì±…": "https://cdn-icons-png.flaticon.com/128/2702/2702134.png",
        "ì§€ê°‘": "https://cdn-icons-png.flaticon.com/128/2933/2933116.png",
        "íƒœë¸”ë¦¿": "https://cdn-icons-png.flaticon.com/128/3474/3474360.png"
    };

    const levels = [
        { 
            mission: "1ë‹¨ê³„: ë‘ë‡Œë¥¼ ê¹¨ìš°ëŠ” ì„¬ì„¸í•œ ì•…ê¸°, 'í•œê²½ ë°”ì´ì˜¬ë¦°'ë¥¼ ì°¾ìœ¼ì„¸ìš”.", 
            shadow: imageMap["ë°”ì´ì˜¬ë¦°"], 
            choices: ["ë°”ì´ì˜¬ë¦°", "ë¬¼ë³‘", "í™•ì„±ê¸°", "ì†ì „ë“±"], 
            answer: "ë°”ì´ì˜¬ë¦°",
            newsT: "ì„ ìœ¨ë¡œ ê¹¨ìš°ëŠ” ë‘ë‡Œ, 'ë°”ì´ì˜¬ë¦°'ì˜ í˜", 
            newsC: "ë°”ì´ì˜¬ë¦° ì—°ì£¼ëŠ” ì•…ë³´ë¥¼ ì½ê³  ì •êµí•˜ê²Œ ì†ê°€ë½ì„ ì›€ì§ì´ëŠ” ê³¼ì •ì„ í†µí•´ ë‡Œì˜ ì—¬ëŸ¬ ì˜ì—­ì„ ë™ì‹œì— í™œì„±í™”í•©ë‹ˆë‹¤. ì´ ë³µí•©ì ì¸ í™œë™ì€ ì¸ì§€ ê¸°ëŠ¥ì„ ê°•í™”í•˜ì—¬ ì¹˜ë§¤ ì˜ˆë°©ì— í° ë„ì›€ì„ ì¤ë‹ˆë‹¤." 
        },
        { 
            mission: "2ë‹¨ê³„: ì˜†ìœ¼ë¡œ ëˆ„ì›Œ ìˆëŠ” 'í•œê²½ ìˆ˜ì²©'ì„ ì°¾ìœ¼ì„¸ìš”.", 
            shadow: imageMap["ìˆ˜ì²©"], 
            choices: ["ì±…", "ìˆ˜ì²©", "ì§€ê°‘", "íƒœë¸”ë¦¿"], 
            answer: "ìˆ˜ì²©",
            newsT: "ë©”ëª¨í•˜ëŠ” ìŠµê´€, ë‡Œ ê±´ê°•ì˜ ë¹„ê²°", 
            newsC: "ì†ìœ¼ë¡œ ì§ì ‘ ì ëŠ” ìŠµê´€ì€ ìš°ë‡Œ ì˜ì—­ì„ í™œì„±í™”í•˜ì—¬ ì¹˜ë§¤ ì˜ˆë°©ì— ë§¤ìš° íš¨ê³¼ì ì…ë‹ˆë‹¤." 
        }
    ];

    let current = 0;

    function load() {
        const level = levels[current];
        document.getElementById('pb').style.width = ((current + 1) / levels.length) * 100 + "%";
        document.getElementById('mission').innerText = level.mission;
        document.getElementById('shadow').src = level.shadow;
        
        // ì„ íƒì§€ ìƒì„± ë£¨í”„
        const choicesHtml = level.choices.map(choiceName => {
            const imgSrc = imageMap[choiceName] || "https://via.placeholder.com/80?text=?";
            return `
                <div class="choice-card" onclick="check('${choiceName}')">
                    <img src="${imgSrc}" alt="${choiceName}">
                    <p>${choiceName}</p>
                </div>`;
        }).join('');
        
        document.getElementById('choices').innerHTML = choicesHtml;
    }

    function check(c) {
        if(c === levels[current].answer) {
            document.getElementById('news-title').innerText = levels[current].newsT;
            document.getElementById('news-text').innerText = levels[current].newsC;
            document.getElementById('modal').style.display = 'flex';
        } else { 
            alert("ë‹¤ì‹œ í•œë²ˆ ê´€ì°°í•´ ë³´ì„¸ìš”! ğŸ”"); 
        }
    }

    function nextLevel() {
        document.getElementById('modal').style.display = 'none';
        current++;
        if(current < levels.length) {
            load();
        } else {
            alert("ì˜¤ëŠ˜ì˜ ëª¨ë“  ì·¨ì¬ë¥¼ ë§ˆì³¤ìŠµë‹ˆë‹¤! ëª…íƒì •ìœ¼ë¡œ ì„ëª…í•©ë‹ˆë‹¤.");
            current = 0; 
            load();
        }
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹œì‘
    window.onload = load;
</script>
</body>
</html>